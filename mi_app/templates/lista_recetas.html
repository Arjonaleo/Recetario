<!DOCTYPE html>
<html lang="es">
<head>
    <title>Catálogo de Recetas</title>
</head>
<body>
    <h1>Lista de Recetas</h1>
    
    <!-- Barra de búsqueda -->
    <form method="get">
        <input type="text" name="busqueda" placeholder="Buscar por nombre" value="{{ request.GET.busqueda }}">
        <button type="submit">Buscar</button>
    </form>
    
    <!-- Filtro por dificultad -->
    <form method="get">
        <select name="dificultad">
            <option value="">Todas</option>
            {% for dif in dificultades %}
                <option value="{{ dif.0 }}" {% if request.GET.dificultad == dif.0 %}selected{% endif %}>{{ dif.1 }}</option>
            {% endfor %}
        </select>
        <button type="submit">Filtrar</button>
    </form>
    
    <!-- Lista de recetas -->
    <ul>
        {% for receta in recetas %}
            <li>
                <a href="/recetas/{{ receta.id }}/">{{ receta.nombre }}</a> - Dificultad: {{ receta.get_dificultad_display }} - Tiempo: {{ receta.tiempo_preparacion }} min
            </li>
        {% empty %}
            <li>No hay recetas.</li>
        {% endfor %}
    </ul>
</body>
</html>